/**
 * JavaCC template file created by SF JavaCC plugin 1.5.28+ wizard for JavaCC 1.5.0+
 */
options
{
  static = true;

  LOOKAHEAD= 1;
}

PARSER_BEGIN(MyGrammar)
package p18;

import java.io.FileReader;
import java.io.IOException;

public class MyGrammar
{
  public static void main(String args []) throws ParseException,  IOException
  {
  FileReader patterns_file = new FileReader("/home/telmo/comp/p18/patterns.txt");
SimpleCharStream scs = new SimpleCharStream(patterns_file);

System.out.println(scs.readChar());
System.out.println(scs.readChar());
System.out.println(scs.readChar());
System.out.println(scs.readChar());
System.out.println(scs.readChar());
System.out.println(scs.readChar());
System.out.println(scs.readChar());
System.out.println(scs.readChar());
MyGrammarTokenManager mgr = new MyGrammarTokenManager(scs);
  
    MyGrammar parser = new MyGrammar(System.in);
    try
    {
      parser.start();
      System.out.println("accept");
    }
    catch (Exception e)
    {
      System.out.println("reject");
    }
    catch (Error e)
    {
      System.out.println("reject");
    }
  }
}

PARSER_END(MyGrammar)

SKIP :
{
  " "
| "\r"
| "\t"
}

TOKEN :
{
  < INT : ([ "0"-"9" ])+ >
| < PLUS : "+" >
| < MINUS : "-" >
| < MULTIPLY : "*" >
| < DIVIDE : "/" >
| < LF : "\n" >
}

void start() :
{}	
{
  expr() < LF >
}

void expr() :
{}
{
  term() exprP()
}

void exprP() :
{}
{
  (
    (
      < PLUS >
    | < MINUS >
    )
    term() exprP()
  )?
}

void term() :
{}
{
  < INT > termP()
}

void termP() :
{}
{
  (
    (
      < MINUS >
    | < MULTIPLY >
    )
    < INT > termP()
  )?
}
